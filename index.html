<!DOCTYPE html>
<html lang='en'>

<head>
	<meta charset='UTF-8'>
	<meta http-equiv='X-UA-Compatible' content='IE=edge'>
	<meta name='viewport' content='width=device-width, initial-scale=1.0'>

	<title>Work orders</title>
	<link rel="icon" type="image/x-icon" href="./resources/favicon.png">
	<link rel="stylesheet" href="./style.css">

	<script src='https://smtpjs.com/v3/smtp.js'></script>
	<script>
		function sendEmail() {
			window.print();
			const password = prompt("password:");
			if (counter >= 7 && password == pass1) {		//required amount of elements to choose/save and the password
				Email.send({
					SecureToken: '74a32293-ce7c-46ad-b0d9-f79ced482aca',
					To: [document.getElementById('clients-email').value, 'pavel@generalov.ca'],		//send to a client and to myself
					From: "pavelgen@gmail.com",
					Subject: document.getElementById('email-subject').value,
					Body: document.getElementById('email-body').innerHTML,
				}).then(
					message => alert("email has been sent"));
			} else { window.alert("Error! Wrong password OR not all of the elements were filled/chosen") };
		};
	</script>
	<script src='script.js'></script>
	<script src='https://pavel-gs.github.io/script2/script2.js'></script>
</head>

<body>
	<h2 class='side-header'>CLIENT SIDE</h2>
	<div id='email-body'> <!-- CSS MUST be inline for the email body-->

		<table style='margin: auto;' align='center'>
			<tr>
				<td background="https://pavel-gs.github.io/quotesHTML/resources/table-background.jpg" style='
						padding: 1rem; 
						width: 600px; 
						background-color: #efecd9; 
						text-align: center; 
						border-radius: 1rem; 
						border: 1px solid #dad7c6; 
						box-shadow: 0.3rem 0.4rem 0.5rem 0.3rem #595959;'>
					<br>
					<!--Logo 1-->
					<button onclick='removeIsaakLogo()' id='geolink-button'>choose</button>
					<img id='geolink-logo' style='width: 300px;'
						src='https://pavel-gs.github.io/quotesHTML/resources/GL-logo.png'
						alt="GeoLink Land Surveying Ltd.">
					<!--Logo 2-->
					<button onclick='removeGeolinkLogo()' id='isaak-button'>choose</button>
					<img id='isaak-logo' style='width: 300px;'
						src='https://pavel-gs.github.io/quotesHTML/resources/IOA-logo.png'
						alt="Isaak, Osman & Associates">
					<!--address-->
					<p id='company-address' style='margin-top: 0.2rem;'>
						20609 Logan Avenue, Langley, BC, V3A 7R3
					</p>
					<br>

					<!--header 1-->
					<button id='estimate-button' onclick='removeWorkOrder()'>choose</button>
					<h1 id='estimate-header'>ESTIMATE REQUEST FOR:</h1>
					<!--header 2-->
					<button id='work-order-button' onclick='removeEstimate()'>choose</button>
					<h1 id='work-order-header'>WORK ORDER FOR:</h1>


					<!--input 1-->
					<form><label id='client-name'>client:</label>
						<input id='client-name-input' placeholder="Mr. John Smith" required>
						<button type='submit' id='client-name-button' onclick='saveClientName()'>save</button>
					</form>
					<!--input 2-->
					<form><label id='client-company'>company:</label>
						<input id='company-name-input' placeholder="Contractors Ltd." required>
						<button type='submit' id='company-name-button' onclick='saveCompanyName()'>save</button>
					</form>
					<!--input 3-->
					<form><label id='client-address'>address:</label>
						<input id='client-address-input' placeholder="123 Elm Street, Langley, BC" required>
						<button type='submit' id='client-address-button' onclick='saveClientAddress()'>save</button>
					</form>
					<hr>


					<!--input 4-->
					<form><label id='client-project'>Project description:</label>
						<textarea id='client-project-input'
							placeholder="For example: certificate of building on the two subject sites and locate all visible utilities in lane such as power poles, valves, hydro boxes, etc..."
							required></textarea>
						<button type='submit' id='client-project-button' onclick='saveClientProject()'>save</button>
					</form>
					<hr>


					<!--input 5-->
					<form><b><label id='client-estimate'>Estimate approximately:</label></b>
						<input id='client-estimate-input' placeholder="numbers only (no other symbols)" required>
						<button type='submit' id='client-estimate-button' onclick='saveClientEstimate()'>save</button>
					</form>
					<br>
					<!--proceed button and text-->

					<div class='no-print'>
						<p style='text-decoration: underline;'>
							<b>In order to proceed, please review the cancellation policy, and agree to terms and
							conditions:</b>
						</p>
						<table style='
						border: 1px solid black; 
						border-radius: 0.5rem; 
						background: #cfff90; 
						margin: 1rem auto 0 auto; 
						text-align: center; 
						width: 200px; 
						height: 50px;'>
							<tr>
								<td>
									<a style='text-decoration: none !important; color: #000000 !important;'
										href='https://pavel-gs.github.io/quotesHTML/proceed.html'>
										<font color='#000000'><b>REVIEW AND PROCEED</b></font>
									</a>
								</td>
							</tr>
						</table>
						<p>&nbsp</p>
					</div>

				</td>
			</tr>
		</table>
	</div>
	<br>
	<br>


	<!--for the internal use (not in the email body)-->
	<h2 id='office-side-header' class='side-header'>OFFICE SIDE</h2>
	<form>
		<table id='office-form'>
			<tr>
				<td class='table-label'><label>Client's email</label></td>
				<td><input id='clients-email' value="pavelgen@gmail.com" required></td>
			</tr>
			<tr>
				<td class='table-label no-print'><label>Email subject</label></td>
				<td class='no-print'><input id='email-subject' value="Estimate / Work order" required></td>
			</tr>
			<tr>
				<td class='table-label'><label>Client's phone #</label></td>
				<td><input placeholder="604-123-4567" required></td>
			</tr>
			<tr>
				<td class='table-label'><label>Legal description</label></td>
				<td><textarea placeholder="Lot #, Block #, plan #" required></textarea></td>
			</tr>
			<tr>
				<td class='table-label'><label>PID</label></td>
				<td><textarea placeholder="xxx-xxx-xxx" required></textarea></td>
			</tr>
			<tr>
				<td class='table-label'><label>Zoning</label></td>
				<td><input placeholder="zoning"></td>
			</tr>
			<tr>
				<td class='table-label'><label>Sec / Tp / BCGS/ ISA#</label></td>
				<td><input placeholder="DL200A, GP.1, 92G.025, 31" required></td>
			</tr>
			<tr>
				<td class='table-label'><label>LTO plans</label></td>
				<td><textarea placeholder="EPPxxxxx, LMPxxxxx, ..." required></textarea></td>
			</tr>
			<tr>
				<td class='table-label'><label>OCM's near</label></td>
				<td><input placeholder="V-1234, V-xxxx, ..." required></td>
			</tr>
			<tr>
				<td class='table-label'><label>Additional comments</label></td>
				<td><textarea placeholder="comments, if any..."></textarea></td>
			</tr>
			<tr>
				<td class='table-label'><label>Date</label></td>
				<td><input placeholder="2069 October 32" required></td>
			</tr>
		</table>
	</form>

	<div id='send-button-div' class='no-print'>
		<button onclick='sendEmail()'>PRINT AND SEND</button>
	</div>
</body>

</html>