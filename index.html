<!DOCTYPE html>
<html lang='en'>

<head>
	<meta charset='UTF-8'>
	<meta http-equiv='X-UA-Compatible' content='IE=edge'>
	<meta name='viewport' content='width=device-width, initial-scale=1.0'>

	<title>Work orders</title>
	<link rel="icon" type="image/x-icon" href="./resources/favicon.png">
	<link rel="stylesheet" href="./style.css">
	<link rel="stylesheet" href="./tooltip.css">

	<script src='https://smtpjs.com/v3/smtp.js'></script>
	<script>
		function sendEmail() {
			window.print();
			const password = prompt("password:");
			if (counter >= 7 && password == pass1) {		//required amount of elements to choose/save and the password
				Email.send({
					SecureToken: '74a32293-ce7c-46ad-b0d9-f79ced482aca',
					To: document.getElementById('clients-email').value,		//send to a client and to myself (make an array[])
					From: "pavelgen@gmail.com",
					Subject: document.getElementById('email-subject').value,
					Body: document.getElementById('email-body').innerHTML,
				}).then(
					message => alert("email has been sent"));
			} else { window.alert("Error! Wrong password OR not all of the elements were filled/chosen") };
		};
	</script>
	<script src='script.js'></script>
	<script src='https://pavel-gs.github.io/script2/script2.js'></script>
</head>

<body>
	<button id='hide-tooltip-button' class='tooltip no-print' onclick='hideTooltips()'
		tooltip-text="Hide all tooltips. Reload the page to bring them back.">
		hide hover tooltips
	</button>
	<h2 class='side-header tooltip'
		tooltip-text="That section should be emailed to a client after the editing is done.">
		CLIENT SIDE
	</h2>
	<div id='email-body'> <!-- CSS MUST be inline for the email body-->

		<table style='margin: auto;' align='center'>
			<tr>
				<td background="https://pavel-gs.github.io/quotesHTML/resources/table-background.jpg" style='
						padding: 1rem; 
						max-width: 600px; 
						background-color: #efecd9; 
						text-align: center; 
						border-radius: 1rem; 
						border: 1px solid #dad7c6; 
						box-shadow: 0.3rem 0.4rem 0.5rem 0.3rem #595959;'>
					<br>
					<!--Logo 1-->
					<button onclick='removeIsaakLogo()' id='geolink-button' class='tooltip'
						tooltip-text="Choose which logo will be displayed.">choose
					</button>
					<a id='geolink-link' href='https://geolinklandsurveying.com/' target='_blank'>
						<img id='geolink-logo' style='width: 300px;'
							src='https://pavel-gs.github.io/quotesHTML/resources/GL-logo.png'
							alt="GeoLink Land Surveying Ltd.">
					</a>
					<!--Logo 2-->
					<button onclick='removeGeolinkLogo()' id='isaak-button' class='tooltip'
						tooltip-text="Choose which logo will be displayed.">
						choose
					</button>
					<a id='isaak-link' href='https://isaakosman.com/' target='_blank'>
						<img id='isaak-logo' style='width: 300px;'
							src='https://pavel-gs.github.io/quotesHTML/resources/IOA-logo.png'
							alt="Isaak, Osman & Associates">
					</a>
					<!--address-->
					<p id='company-address' style='margin-top: 0.2rem;'>
						20609 Logan Avenue, Langley, BC, V3A 7R3
					</p>
					<br>

					<!--header 1-->
					<button id='estimate-button' class='tooltip' onclick='removeWorkOrder()'
						tooltip-text="Choose which heading will be displayed.">
						choose
					</button>
					<h1 id='estimate-header'>ESTIMATE REQUEST FOR:</h1>
					<!--header 2-->
					<button id='work-order-button' class='tooltip' onclick='removeEstimate()'
						tooltip-text="Choose which heading will be displayed.">choose</button>
					<h1 id='work-order-header'>WORK ORDER FOR:</h1>


					<!--input 1 (client's name)-->
					<form class='client-form'><label id='client-name'>client:</label>
						<input id='client-name-input' placeholder="Mr. John Smith">
						<button type='submit' id='client-name-button' class='tooltip' onclick='saveClientName()'
							tooltip-text="Required! Fill in the client's name and press enter">
							save
						</button>
					</form>
					<!--input 2 (client's company)-->
					<form class='client-form'><label id='client-company'>company:</label>
						<input id='company-name-input' placeholder="Contractors Ltd.">
						<button type='submit' id='company-name-button' class='tooltip' onclick='saveCompanyName()'
							tooltip-text="Required! Fill in the company's name and press enter">
							save
						</button>
					</form>
					<!--input 3 (client's job-site address)-->
					<form class='client-form'><label id='client-address'>address:</label>
						<input id='client-address-input' placeholder="123 Elm Street, Langley, BC">
						<button type='submit' id='client-address-button' class='tooltip' onclick='saveClientAddress()'
							tooltip-text="Required! Fill in the job-site address and press enter">
							save
						</button>
					</form>
					<hr>


					<!--input 4 (project description)-->
					<form class='client-form'><label id='client-project'>Project description:</label>
						<textarea id='client-project-input'
							placeholder="For example: certificate of building on the two subject sites and locate all visible utilities in lane such as power poles, valves, hydro boxes, etc..."></textarea>
						<button type='submit' id='client-project-button' class='tooltip' onclick='saveClientProject()'
							tooltip-text="Required! Describe the work order (what will be done on the site.">
							save
						</button>
					</form>
					<hr>


					<!--input 5 (estimate)-->
					<form class='client-form'><b><label id='client-estimate'>Estimate approximately:</label></b>
						<input id='client-estimate-input' placeholder="numbers only (no other symbols)" required>
						<button type='submit' id='client-estimate-button' class='tooltip' onclick='saveClientEstimate()'
							tooltip-text="Required! Approximate cost of the job. Type in only numbers.">
							save
						</button>
					</form>
					<br>

					<!--proceed button and text-->
					<div class='no-print'>
						<p style='text-decoration: underline;'>
							<b>IMPORTANT!<br>In order to proceed, please review the cancellation policy, and agree to
								terms and conditions:</b>
						</p>
						<table class='tooltip'
							tooltip-text="After clicking that button, a client will be redirected to another page to decide, whether to accept the terms and conditions. If accepted - you will get an automated notification via email."
							style='border: 1px solid black; 
							border-radius: 0.5rem; 
							background: #cfff90; 
							margin: 1rem auto 0 auto; 
							text-align: center; 
							width: 200px; 
							box-shadow: 0.2rem 0.3rem 0.5rem 0.2rem #444444;
							height: 50px;'>
							<tr>
								<td>
									<a style='text-decoration: none !important; color: #000000 !important;'
										href='https://pavel-gs.github.io/quotesHTML/proceed.html'>
										<font color='#000000'><b>REVIEW AND PROCEED</b></font>
									</a>
								</td>
							</tr>
						</table>
						<p>&nbsp</p>
					</div>

				</td>
			</tr>
		</table>
	</div>
	<br>
	<br>


	<!--for the internal use (not in the email body)-->
	<h2 id='office-side-header' class='side-header tooltip'
		tooltip-text="That section is for your reference only (except email and subject).">OFFICE SIDE</h2>
	<form>
		<table id='office-form'>
			<tr>
				<td class='table-label-row tooltip' tooltip-text="The email will be sent to this address."><label>Client's
						email</label></td>
				<td><input id='clients-email' value="pavelgen@gmail.com"></td>
			</tr>
			<tr>
				<td class='table-label-row no-print tooltip' tooltip-text="Type in a subject for this email"><label>Email
						subject</label></td>
				<td class='no-print'><input id='email-subject' value="Estimate / Work order"></td>
			</tr>
			<tr>
				<td class='table-label-row'><label>Client's phone #</label></td>
				<td><input placeholder="604-123-4567"></td>
			</tr>
			<tr>
				<td class='table-label-row'><label>Legal description</label></td>
				<td><textarea placeholder="Lot #, Block #, plan #"></textarea></td>
			</tr>
			<tr>
				<td class='table-label-row'><label>PID</label></td>
				<td><textarea placeholder="xxx-xxx-xxx"></textarea></td>
			</tr>
			<tr>
				<td class='table-label-row'><label>Zoning</label></td>
				<td><input placeholder="zoning"></td>
			</tr>
			<tr>
				<td class='table-label-row'><label>Sec / Tp / BCGS/ ISA#</label></td>
				<td><input placeholder="DL200A, GP.1, 92G.025, 31"></td>
			</tr>
			<tr>
				<td class='table-label-row'><label>LTO plans</label></td>
				<td><textarea placeholder="EPPxxxxx, LMPxxxxx, ..."></textarea></td>
			</tr>
			<tr>
				<td class='table-label-row'><label>OCM's near</label></td>
				<td><input placeholder="V-1234, V-xxxx, ..."></td>
			</tr>
			<tr>
				<td class='table-label-row'><label>Additional comments</label></td>
				<td><textarea placeholder="comments, if any..."></textarea></td>
			</tr>
			<tr>
				<td class='table-label-row'>
					<button id='date-button' class='no-print' onclick='insertCurrentDate(event)'>insert current</button>
					<label style='display: inline; float: right;'>Date</label>
				</td>
				<td><input id='date-input' placeholder="2069 October 32"></td>
			</tr>
		</table>
	</form>

		<button id='send-button' class='tooltip no-print' onclick='sendEmail()'
			tooltip-text="If everything was filled correctly, click that button to print the page for your reference, and send the proposal to a client.">
			PRINT AND SEND
		</button>
</body>

</html>